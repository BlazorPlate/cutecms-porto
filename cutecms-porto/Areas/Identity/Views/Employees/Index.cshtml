@model IEnumerable<cutecms_porto.Areas.Identity.Models.DBModel.Employee>
@using cutecms_porto.Areas.Identity.Models;
@{
    ViewBag.MainTitle = Resources.Resources.Employees;
    ViewBag.Title = @Resources.Resources.Index;
    ApplicationDbContext _db = new ApplicationDbContext();
}
<p>
    @Html.ActionLink(Resources.Resources.Create, "Create")
</p>
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.PersonalPhotoPath)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.LanguageId)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.LoginId)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.FullName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Ordinal)
        </th>
        <th></th>
    </tr>
    @foreach (var item in Model)
    {
        <tr>
            @if (item.PersonalPhotoPath != null)
            {
                <td>
                    <img height="400" width="100" class="img-responsive" alt="" src="@item.PersonalPhotoPath">
                </td>
            }
            else
            {
                <td>
                    <i class="fa fa-user fa-4x" aria-hidden="true"></i>
                </td>
            }
            <td>
                @Html.DisplayFor(modelItem => item.Language.Name)
            </td>
            @if (_db.Users.Find(item.LoginId) != null)
            {
                <td>
                    @_db.Users.Find(item.LoginId).UserName
                </td>
            }
            else
            {
                <td>
                    <span>@Resources.Resources.NotAvailable</span>
                </td>
            }
            <td>
                @Html.DisplayFor(modelItem => item.FullName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Ordinal)
            </td>
            <td>
                @Html.ActionLink(" ", "Translations", new { id = item.TranslationId }, new { @class = "fa  fa-2x fa-globe", @title = Resources.Resources.Translations })
                @Html.ActionLink(" ", "Index", "Publications", new { id = item.Id }, new { @class = "fa fa-2x fa-book", @title = Resources.Resources.Publications })
                @Html.ActionLink(" ", "Edit", new { id = item.Id }, new { @class = "fa fa-2x fa-pencil", @title = Resources.Resources.Edit })
                @Html.ActionLink(" ", "Details", new { id = item.Id }, new { @class = "fa fa-2x fa-file-text", @title = Resources.Resources.Details })
                @Html.ActionLink(" ", "Delete", new { id = item.Id }, new { @class = "fa fa-2x fa-times", @title = Resources.Resources.Delete })
            </td>
        </tr>
    }
</table>