@using cutecms_porto.Areas.CMS.Models.DBModel
@using System.Globalization
@using System.Threading
@{
    CMSEntities db = new CMSEntities();
    IEnumerable<MenuItem> topMenuItems = db.MenuItems.Include("Status").Include("Menu").Include("Language").Where(m => m.Menu.TenantId.Trim().Equals(Tenant.TenantId) && m.Menu.Code.Trim().Equals("top-menu") && m.Language.CultureName.Trim().Equals(Thread.CurrentThread.CurrentCulture.Name)).OrderBy(o => o.Ordinal);
    CultureInfo cultureInfo = Thread.CurrentThread.CurrentCulture;
    RegionInfo regionInfo = new RegionInfo(cultureInfo.LCID);
}
<nav class="header-nav-top" style="margin-left:0px;">
    <ul class="nav nav-pills">
        <li>
            <a href="#" id="dropdownLanguage" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <img src="~/assets/porto/img/blank.gif" class="flag flag-@regionInfo.TwoLetterISORegionName.ToLower()" alt="@regionInfo.DisplayName"> @regionInfo.NativeName
                <i class="fa fa-globe"></i>
            </a>
            <ul class="dropdown-menu" aria-labelledby="dropdownLanguage">
                @foreach (var item in db.CMSLanguages.Where(l => l.IsEnabled == true).OrderByDescending(l => l.IsDefault).ThenBy(l => l.Ordinal))
                {
                    CultureInfo itemCultureInfo = CultureInfo.CreateSpecificCulture(item.CultureName.Trim());
                    RegionInfo itemRegionInfo = new RegionInfo(itemCultureInfo.LCID);
                    <li><a href="@Url.RouteUrl(new RouteValueDictionary(ViewContext.RouteData.Values.ToDictionary(r => r.Key, r => r.Key == "culture" ? item.CultureName.Trim() : r.Value)))"><img src="~/assets/porto/img/blank.gif" class="flag flag-@item.FlagCode" alt="@itemRegionInfo.NativeName"> @itemRegionInfo.NativeName</a></li>
                }
            </ul>
        </li>
    </ul>
</nav>

    <nav class="header-nav-top" style="margin-left:0px;">
        <ul class="nav nav-pills">
            @if (CultureHelper.IsRighToLeft())
            {
                foreach (var item in topMenuItems)
                {
                    <li class="hidden-xs">
                        <a href="@item.Path"><i class="fa fa-angle-left"></i> @item.Name</a>
                    </li>
                }
            }
            else
            {
                foreach (var item in topMenuItems)
                {
                    <li class="hidden-xs">
                        <a href="@item.Path"><i class="fa fa-angle-right"></i> @item.Name</a>
                    </li>
                }
            }
        </ul>
    </nav>
    <ul class="header-social-icons social-icons hidden-xs">
        <li class="social-icons-facebook"><a href="@(OrganizationData.Organization?.FacebookUrl)" target="_blank" title="Facebook"><i class="fa fa-facebook"></i></a></li>
        <li class="social-icons-twitter"><a href="@(OrganizationData.Organization?.TwitterUrl)" target="_blank" title="Twitter"><i class="fa fa-twitter"></i></a></li>
        <li class="social-icons-googleplus"><a href="@(OrganizationData.Organization?.LinkedInUrl)" target="_blank" title="Google Plus"><i class="fa fa-google-plus"></i></a></li>
        <li class="social-icons-linkedin"><a href="@(OrganizationData.Organization?.GooglePlusUrl)" target="_blank" title="Linkedin"><i class="fa fa-linkedin"></i></a></li>
    </ul>
